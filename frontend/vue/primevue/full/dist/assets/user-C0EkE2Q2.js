import{a9 as u,aa as f,z as l,q as h,a2 as c}from"./index-ClbwuvgW.js";async function p(s={}){return(await u.get("/users",{params:s})).data}async function w(s){return(await u.get(`/users/${s}`)).data}async function y(s){return(await u.post("/users",s)).data}async function g(s,n){return(await u.put(`/users/${s}`,n)).data}async function U(s){await u.delete(`/users/${s}`)}async function m(s,n){return(await u.post(`/users/${s}/change-password`,n)).data}const q=f("user",()=>{const s=l([]),n=l(null),t=l(!1),d=h(()=>s.value);return{items:s,users:d,currentItem:n,loading:t,fetchUsers:async(r={})=>{t.value=!0;const o=c();try{s.value=await p(r)}catch(e){const a=e.response?.data?.message||"Failed to fetch users";throw o.showError(a),e}finally{t.value=!1}},fetchUser:async r=>{t.value=!0;const o=c();try{return n.value=await w(r),n.value}catch(e){const a=e.response?.data?.message||"Failed to fetch user";throw o.showError(a),e}finally{t.value=!1}},createUser:async r=>{t.value=!0;const o=c();try{return await y(r)}catch(e){const a=e.response?.data?.message||"Failed to create user";throw o.showError(a),e}finally{t.value=!1}},updateUser:async(r,o)=>{t.value=!0;const e=c();try{return await g(r,o)}catch(a){const i=a.response?.data?.message||"Failed to update user";throw e.showError(i),a}finally{t.value=!1}},deleteUser:async r=>{t.value=!0;const o=c();try{await U(r)}catch(e){const a=e.response?.data?.message||"Failed to delete user";throw o.showError(a),e}finally{t.value=!1}},changePassword:async(r,o)=>{t.value=!0;const e=c();try{await m(r,o)}catch(a){const i=a.response?.data?.message||"Failed to change password";throw e.showError(i),a}finally{t.value=!1}}}});export{q as u};
