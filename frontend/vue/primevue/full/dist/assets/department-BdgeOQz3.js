import{a9 as p,aa as u,z as i,q as d,a2 as c}from"./index-ClbwuvgW.js";async function f(t={}){return(await p.get("/departments",{params:t})).data}async function h(t){return(await p.get(`/departments/${t}`)).data}async function D(t){return(await p.post("/departments",t)).data}async function w(t,o){return(await p.put(`/departments/${t}`,o)).data}async function y(t){await p.delete(`/departments/${t}`)}const q=u("department",()=>{const t=i([]),o=i(null),a=i(!1),l=d(()=>t.value);return{items:t,departments:l,currentItem:o,loading:a,fetchDepartments:async(n={})=>{a.value=!0;const s=c();try{t.value=await f(n)}catch(e){const r=e.response?.data?.message||"Failed to fetch departments";throw s.showError(r),e}finally{a.value=!1}},fetchDepartment:async n=>{a.value=!0;const s=c();try{return o.value=await h(n),o.value}catch(e){const r=e.response?.data?.message||"Failed to fetch department";throw s.showError(r),e}finally{a.value=!1}},createDepartment:async n=>{a.value=!0;const s=c();try{return await D(n)}catch(e){const r=e.response?.data?.message||"Failed to create department";throw s.showError(r),e}finally{a.value=!1}},updateDepartment:async(n,s)=>{a.value=!0;const e=c();try{return await w(n,s)}catch(r){const m=r.response?.data?.message||"Failed to update department";throw e.showError(m),r}finally{a.value=!1}},deleteDepartment:async n=>{a.value=!0;const s=c();try{await y(n)}catch(e){const r=e.response?.data?.message||"Failed to delete department";throw s.showError(r),e}finally{a.value=!1}}}});export{q as u};
