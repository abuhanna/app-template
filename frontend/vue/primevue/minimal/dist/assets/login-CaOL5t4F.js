import{Q as V,d as x,l as w,aV as b,Z as S,r as B,c as m,o as i,f as s,ap as C,i as N,g as c,a as n,j as _,L as d,t as f,P as u}from"./index-D462s2qb.js";import{s as P}from"./index-Capuxi7Q.js";import{s as U}from"./index-EN2eqwjt.js";import{a as z}from"./index-ggVQrxbj.js";import{s as A}from"./index-IjqWn3F7.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DKTsTgk9.js";const I={class:"login-page"},M={class:"login-card"},T={class:"card-content"},$={class:"field"},q={key:0,class:"p-error"},L={class:"field"},W={key:0,class:"p-error"},j={class:"form-options"},D={__name:"login",setup(F){const v=V(),g=x(),l=w(!1),t=w(""),o=b({username:"",password:""}),a=b({username:"",password:""});S(()=>{g.isAuthenticated&&v.push("/dashboard")});const h=()=>{a.username="",a.password="";let r=!0;return o.username.trim()||(a.username="Username is required",r=!1),o.password||(a.password="Password is required",r=!1),r},k=async()=>{if(h()){l.value=!0,t.value="";try{await g.login({username:o.username,password:o.password}),v.push("/dashboard")}catch(r){t.value=r.response?.data?.message||"Invalid username or password"}finally{l.value=!1}}};return(r,e)=>{const y=B("router-link");return i(),m("div",I,[e[7]||(e[7]=s("div",{class:"login-background"},[s("div",{class:"shape shape-1"}),s("div",{class:"shape shape-2"}),s("div",{class:"shape shape-3"})],-1)),s("div",M,[s("div",T,[e[5]||(e[5]=s("div",{class:"login-header"},[s("div",{class:"logo-wrapper"},[s("i",{class:"pi pi-box"})]),s("h1",null,"AppTemplate"),s("p",null,"Welcome back! Please sign in to continue.")],-1)),s("form",{onSubmit:C(k,["prevent"]),class:"login-form"},[t.value?(i(),N(u(A),{key:0,severity:"error",closable:!1,class:"mb-4"},{default:_(()=>[d(f(t.value),1)]),_:1})):c("",!0),s("div",$,[e[2]||(e[2]=s("label",{for:"username"},[s("i",{class:"pi pi-user"}),d(" Username ")],-1)),n(u(P),{id:"username",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=p=>o.username=p),placeholder:"Enter your username",disabled:l.value,invalid:!!a.username,size:"large"},null,8,["modelValue","disabled","invalid"]),a.username?(i(),m("small",q,f(a.username),1)):c("",!0)]),s("div",L,[e[3]||(e[3]=s("label",{for:"password"},[s("i",{class:"pi pi-lock"}),d(" Password ")],-1)),n(u(U),{id:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=p=>o.password=p),placeholder:"Enter your password",disabled:l.value,feedback:!1,toggleMask:"",invalid:!!a.password,inputClass:"w-full",size:"large"},null,8,["modelValue","disabled","invalid"]),a.password?(i(),m("small",W,f(a.password),1)):c("",!0)]),s("div",j,[n(y,{to:"/forgot-password",class:"forgot-link"},{default:_(()=>[...e[4]||(e[4]=[d(" Forgot password? ",-1)])]),_:1})]),n(u(z),{type:"submit",label:"Sign In",icon:"pi pi-sign-in",loading:l.value,size:"large",class:"submit-button"},null,8,["loading"])],32),e[6]||(e[6]=s("div",{class:"login-footer"},[s("p",null,"Secure login powered by JWT authentication")],-1))])])])}}},O=E(D,[["__scopeId","data-v-5af893e6"]]);export{O as default};
