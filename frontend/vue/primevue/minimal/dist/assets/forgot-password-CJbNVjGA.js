import{l as o,r as E,c as i,o as r,f as s,ap as S,i as V,g as k,a as n,j as g,L as u,t as m,P as d,aU as B}from"./index-D462s2qb.js";import{s as x}from"./index-Capuxi7Q.js";import{a as y}from"./index-ggVQrxbj.js";import{s as C}from"./index-IjqWn3F7.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"forgot-password-container"},P={class:"forgot-password-card"},$={class:"form-field"},I={key:0,class:"p-error"},h={class:"back-to-login"},A={key:1,class:"success-state"},U={__name:"forgot-password",setup(j){const l=o(""),a=o(""),c=o(""),t=o(!1),f=o(!1),w=()=>(a.value="",l.value.trim()?/\S+@\S+\.\S+/.test(l.value)?!0:(a.value="Invalid email format",!1):(a.value="Email is required",!1)),b=async()=>{if(w()){t.value=!0,c.value="";try{await B.forgotPassword(l.value),f.value=!0}catch{f.value=!0}finally{t.value=!1}}};return(p,e)=>{const _=E("router-link");return r(),i("div",N,[s("div",P,[e[8]||(e[8]=s("div",{class:"card-header"},[s("i",{class:"pi pi-lock logo-icon"}),s("h1",{class:"card-title"},"Forgot Password"),s("p",{class:"card-subtitle"}," Enter your email address and we'll send you a link to reset your password. ")],-1)),f.value?(r(),i("div",A,[e[6]||(e[6]=s("div",{class:"success-icon"},[s("i",{class:"pi pi-check-circle"})],-1)),e[7]||(e[7]=s("h2",null,"Check Your Email",-1)),s("p",null,[e[4]||(e[4]=u(" If an account exists for ",-1)),s("strong",null,m(l.value),1),e[5]||(e[5]=u(", you will receive a password reset link shortly. ",-1))]),n(d(y),{label:"Back to Login",severity:"secondary",onClick:e[1]||(e[1]=v=>p.$router.push("/login")),class:"w-full"})])):(r(),i("form",{key:0,onSubmit:S(b,["prevent"]),class:"forgot-password-form"},[c.value?(r(),V(d(C),{key:0,severity:"error",closable:!1},{default:g(()=>[u(m(c.value),1)]),_:1})):k("",!0),s("div",$,[e[2]||(e[2]=s("label",{for:"email"},"Email Address",-1)),n(d(x),{id:"email",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=v=>l.value=v),type:"email",placeholder:"Enter your email",disabled:t.value,invalid:!!a.value,class:"w-full"},null,8,["modelValue","disabled","invalid"]),a.value?(r(),i("small",I,m(a.value),1)):k("",!0)]),n(d(y),{type:"submit",label:"Send Reset Link",loading:t.value,class:"w-full",size:"large"},null,8,["loading"]),s("div",h,[n(_,{to:"/login",class:"back-link"},{default:g(()=>[...e[3]||(e[3]=[s("i",{class:"pi pi-arrow-left"},null,-1),u(" Back to Login ",-1)])]),_:1})])],32))])])}}},R=L(U,[["__scopeId","data-v-d5d7a3e4"]]);export{R as default};
