# Frontend-Only Docker Compose
# Vue 3 SPA served by Nginx
# Usage: docker compose -f docker-compose.frontend.yml up -d

services:
  # Frontend (Vue 3 + Nginx)
  web:
    build:
      context: .
      dockerfile: docker/Dockerfile.frontend
      args:
        # Set the backend API URL that the frontend will call
        # Change this to your actual backend API URL
        - VITE_API_URL=${VITE_API_BASE_URL:-http://localhost:5100/api}
    container_name: ${PROJECT_NAME:-apptemplate}-web
    restart: always
    ports:
      - "${WEB_PORT:-80}:80"
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
